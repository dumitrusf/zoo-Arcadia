{"version":3,"sources":["animals-filter.js","app.js","habitat-filter.js"],"names":["document","addEventListener","currentPage","itemsPerPage","showPage","visibleAnimals","parseInt","$","val","totalPages","Math","ceil","length","hide","start","end","i","show","totalItems","$paginationNav","$paginationUl","find","remove","startPage","max","endPage","min","pageNumbers","push","type","value","separator","isActive","$prevButton","parent","forEach","page","after","activeStyle","next","off","on","e","preventDefault","getVisibleAnimals","this","data","updatePagination","specie","toLowerCase","habitat","nutrition","name","each","$article","articleSpecie","articleHabitat","articleNutrition","articleName","specieMatch","match","trim","indexOf","applyFilters","querySelectorAll","table","DataTable","stateSave","pageLength","lengthMenu","responsive","order","language","decimal","emptyTable","info","infoEmpty","infoFiltered","infoPostFix","thousands","loadingRecords","processing","search","zeroRecords","paginate","first","last","previous","aria","sortAscending","sortDescending","window","onpageshow","event","persisted","location","reload"],"mappings":"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","file":"app.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function() {\r\n    let currentPage = 1;\r\n    let itemsPerPage = 10;\r\n\r\n    function applyFilters() {\r\n        const specie = $('#filter-specie').val().toLowerCase();\r\n        const habitat = $('#filter-habitat').val().toLowerCase();\r\n        const nutrition = $('#filter-nutrition').val().toLowerCase();\r\n        const state = $('#filter-state').val().toLowerCase();\r\n        const name = $('#filter-name').val().toLowerCase();\r\n\r\n        const visibleAnimals = [];\r\n\r\n        $('.intro__animal').each(function() {\r\n            const $article = $(this);\r\n            const articleSpecie = $article.data('specie') || '';\r\n            const articleHabitat = $article.data('habitat') || '';\r\n            const articleNutrition = $article.data('nutrition') || '';\r\n            const articleName = $article.data('name') || '';\r\n\r\n            let show = true;\r\n\r\n            // Filter by specie (extract value from parentheses and compare)\r\n            if (specie) {\r\n                const specieMatch = articleSpecie.match(/\\(([^)]+)\\)/);\r\n                const articleSpecieType = specieMatch ? specieMatch[1].toLowerCase().trim() : '';\r\n                if (articleSpecieType !== specie.toLowerCase()) {\r\n                    show = false;\r\n                }\r\n            }\r\n\r\n            // Filter by habitat\r\n            if (show && habitat && articleHabitat.toLowerCase().indexOf(habitat) === -1) {\r\n                show = false;\r\n            }\r\n\r\n            // Filter by nutrition\r\n            if (show && nutrition && articleNutrition.indexOf(nutrition) === -1) {\r\n                show = false;\r\n            }\r\n\r\n            // Filter by name\r\n            if (show && name && articleName.indexOf(name) === -1) {\r\n                show = false;\r\n            }\r\n\r\n            // Store visible animals\r\n            if (show) {\r\n                visibleAnimals.push($article);\r\n            }\r\n            \r\n            // Hide all first\r\n            $article.hide();\r\n        });\r\n\r\n        // Apply pagination to visible animals\r\n        currentPage = 1; // Reset to first page when filtering\r\n        showPage(visibleAnimals);\r\n        \r\n        return visibleAnimals;\r\n    }\r\n\r\n    function showPage(visibleAnimals) {\r\n        itemsPerPage = parseInt($('#filter-per-page').val()) || 10;\r\n        const totalPages = Math.ceil(visibleAnimals.length / itemsPerPage);\r\n        \r\n        // Hide all animals\r\n        $('.intro__animal').hide();\r\n        \r\n        // Show animals for current page\r\n        const start = (currentPage - 1) * itemsPerPage;\r\n        const end = start + itemsPerPage;\r\n        \r\n        for (let i = start; i < end && i < visibleAnimals.length; i++) {\r\n            visibleAnimals[i].show();\r\n        }\r\n        \r\n        // Update pagination\r\n        updatePagination(totalPages, visibleAnimals.length);\r\n    }\r\n\r\n    function updatePagination(totalPages, totalItems) {\r\n        const $paginationNav = $('#paginationNav');\r\n        const $paginationNumbers = $('#paginationNumbers');\r\n        \r\n        if (totalPages <= 1) {\r\n            $paginationNav.hide();\r\n            return;\r\n        }\r\n        \r\n        $paginationNav.show();\r\n        const $paginationUl = $paginationNav.find('.nav-pagination__ul');\r\n        \r\n        // Remove existing page numbers (keep prev and next buttons)\r\n        $paginationUl.find('li:not(:first-child):not(:last-child)').remove();\r\n        \r\n        // Generate dynamic page numbers: show current page ± 1, plus first and last if needed\r\n        const startPage = Math.max(1, currentPage - 1);\r\n        const endPage = Math.min(totalPages, currentPage + 1);\r\n        \r\n        // Build page numbers array\r\n        const pageNumbers = [];\r\n        \r\n        // Always show first page if not in range\r\n        if (startPage > 1) {\r\n            pageNumbers.push({type: 'number', value: 1, separator: ','});\r\n            if (startPage > 2) {\r\n                pageNumbers.push({type: 'ellipsis'});\r\n            }\r\n        }\r\n        \r\n        // Show pages around current page\r\n        for (let i = startPage; i <= endPage; i++) {\r\n            const separator = (i < endPage || (endPage < totalPages)) ? ',' : '';\r\n            pageNumbers.push({type: 'number', value: i, separator: separator, isActive: i === currentPage});\r\n        }\r\n        \r\n        // Show last page if not in range\r\n        if (endPage < totalPages) {\r\n            if (endPage < totalPages - 1) {\r\n                pageNumbers.push({type: 'ellipsis'});\r\n            }\r\n            pageNumbers.push({type: 'number', value: totalPages, separator: ''});\r\n        }\r\n        \r\n        // Insert page numbers after prev button\r\n        let $prevButton = $paginationUl.find('#paginationPrev').parent();\r\n        pageNumbers.forEach(function(page) {\r\n            if (page.type === 'ellipsis') {\r\n                $prevButton.after('<li class=\"nav-pagination__li\"><span>...</span></li>');\r\n            } else {\r\n                const activeStyle = page.isActive ? ' style=\"color: #2ED6FF; font-weight: bold;\"' : '';\r\n                $prevButton.after('<li class=\"nav-pagination__li\"><a href=\"#\" data-page=\"' + page.value + '\"' + activeStyle + '>' + page.value + page.separator + '</a></li>');\r\n            }\r\n            $prevButton = $prevButton.next();\r\n        });\r\n        \r\n        // Previous button\r\n        $('#paginationPrev').off('click').on('click', function(e) {\r\n            e.preventDefault();\r\n            if (currentPage > 1) {\r\n                currentPage--;\r\n                const visibleAnimals = getVisibleAnimals();\r\n                showPage(visibleAnimals);\r\n            }\r\n        });\r\n        \r\n        // Next button\r\n        $('#paginationNext').off('click').on('click', function(e) {\r\n            e.preventDefault();\r\n            if (currentPage < totalPages) {\r\n                currentPage++;\r\n                const visibleAnimals = getVisibleAnimals();\r\n                showPage(visibleAnimals);\r\n            }\r\n        });\r\n        \r\n        // Page number clicks\r\n        $paginationUl.find('a[data-page]').off('click').on('click', function(e) {\r\n            e.preventDefault();\r\n            currentPage = parseInt($(this).data('page'));\r\n            const visibleAnimals = getVisibleAnimals();\r\n            showPage(visibleAnimals);\r\n        });\r\n    }\r\n\r\n    function getVisibleAnimals() {\r\n        const visibleAnimals = [];\r\n        const specie = $('#filter-specie').val().toLowerCase();\r\n        const habitat = $('#filter-habitat').val().toLowerCase();\r\n        const nutrition = $('#filter-nutrition').val().toLowerCase();\r\n        const name = $('#filter-name').val().toLowerCase();\r\n        \r\n        $('.intro__animal').each(function() {\r\n            // Check if it should be visible based on filters\r\n            const $article = $(this);\r\n            const articleSpecie = $article.data('specie') || '';\r\n            const articleHabitat = $article.data('habitat') || '';\r\n            const articleNutrition = $article.data('nutrition') || '';\r\n            const articleName = $article.data('name') || '';\r\n            \r\n            let show = true;\r\n            \r\n            if (specie) {\r\n                const specieMatch = articleSpecie.match(/\\(([^)]+)\\)/);\r\n                const articleSpecieType = specieMatch ? specieMatch[1].toLowerCase().trim() : '';\r\n                if (articleSpecieType !== specie.toLowerCase()) show = false;\r\n            }\r\n            if (show && habitat && articleHabitat.toLowerCase().indexOf(habitat) === -1) show = false;\r\n            if (show && nutrition && articleNutrition.indexOf(nutrition) === -1) show = false;\r\n            if (show && name && articleName.indexOf(name) === -1) show = false;\r\n            \r\n            if (show) {\r\n                visibleAnimals.push($article);\r\n            }\r\n        });\r\n        \r\n        return visibleAnimals;\r\n    }\r\n\r\n    // Apply filters on change\r\n    $('#filter-specie, #filter-habitat, #filter-nutrition, #filter-state, #filter-name').on('change keyup', function() {\r\n        applyFilters();\r\n    });\r\n\r\n    // Items per page change\r\n    $('#filter-per-page').on('change', function() {\r\n        currentPage = 1;\r\n        const visibleAnimals = getVisibleAnimals();\r\n        showPage(visibleAnimals);\r\n    });\r\n\r\n    // Reset filters\r\n    $('#resetFilters').on('click', function() {\r\n        $('#filter-specie, #filter-habitat, #filter-nutrition, #filter-state, #filter-name').val('');\r\n        $('#filter-per-page').val('10');\r\n        currentPage = 1;\r\n        itemsPerPage = 10;\r\n        $('.intro__animal').show();\r\n        const visibleAnimals = getVisibleAnimals();\r\n        showPage(visibleAnimals);\r\n    });\r\n\r\n    // Initialize pagination on load\r\n    const visibleAnimals = getVisibleAnimals();\r\n    showPage(visibleAnimals);\r\n});\r\n\r\n","document.addEventListener(\"DOMContentLoaded\", () => {\r\n  document.querySelectorAll(\".dataTable\").forEach((table) => {\r\n    new DataTable(table, {\r\n      // very important, to save the auto redirecting to the last action made in the table (this case the activation or not of the user selected)\r\n      stateSave: true,\r\n      pageLength: 5,\r\n      lengthMenu: [\r\n        [3, 5, 7, 13, 15, 17, 23, 25, 27, 30, 50, 100],\r\n        [3, 5, 7, 13, 15, 17, 23, 25, 27, 30, 50, 100],\r\n      ],\r\n\r\n      responsive: true,\r\n      order: [[12, \"desc\"]],\r\n      language: {\r\n        decimal: \"\",\r\n        emptyTable: \"No data available in table\",\r\n        info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\r\n        infoEmpty: \"Showing 0 to 0 of 0 entries\",\r\n        infoFiltered: \"(filtered from _MAX_ total entries)\",\r\n        infoPostFix: \"\",\r\n        thousands: \",\",\r\n        lengthMenu: \"Show _MENU_ entries\",\r\n        loadingRecords: \"Loading...\",\r\n        processing: \"Processing...\",\r\n        search: \"Search:\",\r\n        zeroRecords: \"No matching records found\",\r\n        paginate: {\r\n          first: \"first\",\r\n          last: \"Last\",\r\n          next: \"Next\",\r\n          previous: \"Previous\",\r\n        },\r\n        aria: {\r\n          sortAscending: \": activate to sort column ascending\",\r\n          sortDescending: \": activate to sort column descending\",\r\n        },\r\n      },\r\n    });\r\n  });\r\n});\r\n\r\n// If the page is loaded from the cache (back button), reload it\r\nwindow.onpageshow = function (event) {\r\n  if (event.persisted) {\r\n    window.location.reload();\r\n  }\r\n};\r\n","document.addEventListener(\"DOMContentLoaded\", function() {\r\n    let currentPage = 1;\r\n    let itemsPerPage = 10;\r\n\r\n    function applyFilters() {\r\n        const specie = $('#filter-specie').val().toLowerCase();\r\n        const nutrition = $('#filter-nutrition').val().toLowerCase();\r\n        const state = $('#filter-state').val().toLowerCase();\r\n        const name = $('#filter-name').val().toLowerCase();\r\n\r\n        const visibleAnimals = [];\r\n\r\n        $('.intro__animal').each(function() {\r\n            const $article = $(this);\r\n            const articleSpecie = $article.data('specie') || '';\r\n            const articleNutrition = $article.data('nutrition') || '';\r\n            const articleName = $article.data('name') || '';\r\n\r\n            let show = true;\r\n\r\n            // Filter by specie (extract value from parentheses and compare)\r\n            if (specie) {\r\n                const specieMatch = articleSpecie.match(/\\(([^)]+)\\)/);\r\n                const articleSpecieType = specieMatch ? specieMatch[1].toLowerCase().trim() : '';\r\n                if (articleSpecieType !== specie.toLowerCase()) {\r\n                    show = false;\r\n                }\r\n            }\r\n\r\n            // Filter by nutrition\r\n            if (show && nutrition && articleNutrition.indexOf(nutrition) === -1) {\r\n                show = false;\r\n            }\r\n\r\n            // Filter by name\r\n            if (show && name && articleName.indexOf(name) === -1) {\r\n                show = false;\r\n            }\r\n\r\n            // Store visible animals\r\n            if (show) {\r\n                visibleAnimals.push($article);\r\n            }\r\n            \r\n            // Hide all first\r\n            $article.hide();\r\n        });\r\n\r\n        // Apply pagination to visible animals\r\n        currentPage = 1; // Reset to first page when filtering\r\n        showPage(visibleAnimals);\r\n        \r\n        return visibleAnimals;\r\n    }\r\n\r\n    function showPage(visibleAnimals) {\r\n        itemsPerPage = parseInt($('#filter-per-page').val()) || 10;\r\n        const totalPages = Math.ceil(visibleAnimals.length / itemsPerPage);\r\n        \r\n        // Hide all animals\r\n        $('.intro__animal').hide();\r\n        \r\n        // Show animals for current page\r\n        const start = (currentPage - 1) * itemsPerPage;\r\n        const end = start + itemsPerPage;\r\n        \r\n        for (let i = start; i < end && i < visibleAnimals.length; i++) {\r\n            visibleAnimals[i].show();\r\n        }\r\n        \r\n        // Update pagination\r\n        updatePagination(totalPages, visibleAnimals.length);\r\n    }\r\n\r\n    function updatePagination(totalPages, totalItems) {\r\n        const $paginationNav = $('#paginationNav');\r\n        const $paginationNumbers = $('#paginationNumbers');\r\n        \r\n        if (totalPages <= 1) {\r\n            $paginationNav.hide();\r\n            return;\r\n        }\r\n        \r\n        $paginationNav.show();\r\n        const $paginationUl = $paginationNav.find('.nav-pagination__ul');\r\n        \r\n        // Remove existing page numbers (keep prev and next buttons)\r\n        $paginationUl.find('li:not(:first-child):not(:last-child)').remove();\r\n        \r\n        // Generate dynamic page numbers: show current page ± 1, plus first and last if needed\r\n        const startPage = Math.max(1, currentPage - 1);\r\n        const endPage = Math.min(totalPages, currentPage + 1);\r\n        \r\n        // Build page numbers array\r\n        const pageNumbers = [];\r\n        \r\n        // Always show first page if not in range\r\n        if (startPage > 1) {\r\n            pageNumbers.push({type: 'number', value: 1, separator: ','});\r\n            if (startPage > 2) {\r\n                pageNumbers.push({type: 'ellipsis'});\r\n            }\r\n        }\r\n        \r\n        // Show pages around current page\r\n        for (let i = startPage; i <= endPage; i++) {\r\n            const separator = (i < endPage || (endPage < totalPages)) ? ',' : '';\r\n            pageNumbers.push({type: 'number', value: i, separator: separator, isActive: i === currentPage});\r\n        }\r\n        \r\n        // Show last page if not in range\r\n        if (endPage < totalPages) {\r\n            if (endPage < totalPages - 1) {\r\n                pageNumbers.push({type: 'ellipsis'});\r\n            }\r\n            pageNumbers.push({type: 'number', value: totalPages, separator: ''});\r\n        }\r\n        \r\n        // Insert page numbers after prev button\r\n        let $prevButton = $paginationUl.find('#paginationPrev').parent();\r\n        pageNumbers.forEach(function(page) {\r\n            if (page.type === 'ellipsis') {\r\n                $prevButton.after('<li class=\"nav-pagination__li\"><span>...</span></li>');\r\n            } else {\r\n                const activeStyle = page.isActive ? ' style=\"color: #2ED6FF; font-weight: bold;\"' : '';\r\n                $prevButton.after('<li class=\"nav-pagination__li\"><a href=\"#\" data-page=\"' + page.value + '\"' + activeStyle + '>' + page.value + page.separator + '</a></li>');\r\n            }\r\n            $prevButton = $prevButton.next();\r\n        });\r\n        \r\n        // Previous button\r\n        $('#paginationPrev').off('click').on('click', function(e) {\r\n            e.preventDefault();\r\n            if (currentPage > 1) {\r\n                currentPage--;\r\n                const visibleAnimals = getVisibleAnimals();\r\n                showPage(visibleAnimals);\r\n            }\r\n        });\r\n        \r\n        // Next button\r\n        $('#paginationNext').off('click').on('click', function(e) {\r\n            e.preventDefault();\r\n            if (currentPage < totalPages) {\r\n                currentPage++;\r\n                const visibleAnimals = getVisibleAnimals();\r\n                showPage(visibleAnimals);\r\n            }\r\n        });\r\n        \r\n        // Page number clicks\r\n        $paginationUl.find('a[data-page]').off('click').on('click', function(e) {\r\n            e.preventDefault();\r\n            currentPage = parseInt($(this).data('page'));\r\n            const visibleAnimals = getVisibleAnimals();\r\n            showPage(visibleAnimals);\r\n        });\r\n    }\r\n\r\n    function getVisibleAnimals() {\r\n        const visibleAnimals = [];\r\n        const specie = $('#filter-specie').val().toLowerCase();\r\n        const nutrition = $('#filter-nutrition').val().toLowerCase();\r\n        const name = $('#filter-name').val().toLowerCase();\r\n        \r\n        $('.intro__animal').each(function() {\r\n            // Check if it should be visible based on filters\r\n            const $article = $(this);\r\n            const articleSpecie = $article.data('specie') || '';\r\n            const articleNutrition = $article.data('nutrition') || '';\r\n            const articleName = $article.data('name') || '';\r\n            \r\n            let show = true;\r\n            \r\n            if (specie) {\r\n                const specieMatch = articleSpecie.match(/\\(([^)]+)\\)/);\r\n                const articleSpecieType = specieMatch ? specieMatch[1].toLowerCase().trim() : '';\r\n                if (articleSpecieType !== specie.toLowerCase()) show = false;\r\n            }\r\n            if (show && nutrition && articleNutrition.indexOf(nutrition) === -1) show = false;\r\n            if (show && name && articleName.indexOf(name) === -1) show = false;\r\n            \r\n            if (show) {\r\n                visibleAnimals.push($article);\r\n            }\r\n        });\r\n        \r\n        return visibleAnimals;\r\n    }\r\n\r\n    // Apply filters on change\r\n    $('#filter-specie, #filter-nutrition, #filter-state, #filter-name').on('change keyup', function() {\r\n        applyFilters();\r\n    });\r\n\r\n    // Items per page change\r\n    $('#filter-per-page').on('change', function() {\r\n        currentPage = 1;\r\n        const visibleAnimals = getVisibleAnimals();\r\n        showPage(visibleAnimals);\r\n    });\r\n\r\n    // Reset filters\r\n    $('#resetFilters').on('click', function() {\r\n        $('#filter-specie, #filter-nutrition, #filter-state, #filter-name').val('');\r\n        $('#filter-per-page').val('10');\r\n        currentPage = 1;\r\n        itemsPerPage = 10;\r\n        $('.intro__animal').show();\r\n        const visibleAnimals = getVisibleAnimals();\r\n        showPage(visibleAnimals);\r\n    });\r\n\r\n    // Initialize pagination on load\r\n    const visibleAnimals = getVisibleAnimals();\r\n    showPage(visibleAnimals);\r\n});"]}