document.addEventListener("DOMContentLoaded",(function(){let t=1,e=10;function a(){const e=new URLSearchParams,a=$("#filter-specie").val(),i=$("#filter-habitat").val(),n=$("#filter-nutrition").val(),o=$("#filter-state").val(),r=$("#filter-name").val(),s=$("#filter-per-page").val();a&&e.set("specie",a),i&&e.set("habitat",i),n&&e.set("nutrition",n),o&&e.set("state",o),r&&e.set("name",r),s&&"10"!==s&&e.set("perPage",s),t>1&&e.set("page",t);const l=window.location.pathname+(e.toString()?"?"+e.toString():"");window.history.pushState({},"",l)}function i(o){e=parseInt($("#filter-per-page").val())||10;const r=Math.ceil(o.length/e);$(".intro__animal").hide();const s=(t-1)*e,l=s+e;for(let t=s;t<l&&t<o.length;t++)o[t].show();!function(e,o){const r=$("#paginationNav");$("#paginationNumbers");if(e<=1)return void r.hide();r.show();const s=r.find(".nav-pagination__ul");s.find("li:not(:first-child):not(:last-child)").remove();const l=Math.max(1,t-1),f=Math.min(e,t+1),c=[];l>1&&(c.push({type:"number",value:1,separator:","}),l>2&&c.push({type:"ellipsis"}));for(let a=l;a<=f;a++){const i=a<f||f<e?",":"";c.push({type:"number",value:a,separator:i,isActive:a===t})}f<e&&(f<e-1&&c.push({type:"ellipsis"}),c.push({type:"number",value:e,separator:""}));let p=s.find("#paginationPrev").parent();c.forEach((function(t){if("ellipsis"===t.type)p.after('<li class="nav-pagination__li"><span>...</span></li>');else{const e=t.isActive?' style="color: #2ED6FF; font-weight: bold;"':"";p.after('<li class="nav-pagination__li"><a href="#" data-page="'+t.value+'"'+e+">"+t.value+t.separator+"</a></li>")}p=p.next()})),$("#paginationPrev").off("click").on("click",(function(e){if(e.preventDefault(),t>1){t--;i(n()),a()}})),$("#paginationNext").off("click").on("click",(function(o){if(o.preventDefault(),t<e){t++;i(n()),a()}})),s.find("a[data-page]").off("click").on("click",(function(e){e.preventDefault(),t=parseInt($(this).data("page"));i(n()),a()}))}(r,o.length)}function n(){const t=[],e=$("#filter-specie").val().toLowerCase(),a=$("#filter-habitat").val().toLowerCase(),i=$("#filter-nutrition").val().toLowerCase(),n=$("#filter-state").val().toLowerCase(),o=$("#filter-name").val().toLowerCase();return $(".intro__animal").each((function(){const r=$(this),s=r.data("specie")||"",l=r.data("habitat")||"",f=r.data("nutrition")||"",c=r.data("state")||"",p=r.data("name")||"";let u=!0;if(e){const t=s.match(/\(([^)]+)\)/);(t?t[1].toLowerCase().trim():"")!==e.toLowerCase()&&(u=!1)}u&&a&&-1===l.toLowerCase().indexOf(a)&&(u=!1),u&&i&&-1===f.indexOf(i)&&(u=!1),u&&n&&c.toLowerCase()!==n.toLowerCase()&&(u=!1),u&&o&&-1===p.indexOf(o)&&(u=!1),u&&t.push(r)})),t}$("#filter-specie, #filter-habitat, #filter-nutrition, #filter-state, #filter-name").on("change keyup",(function(){!function(){const e=$("#filter-specie").val().toLowerCase(),n=$("#filter-habitat").val().toLowerCase(),o=$("#filter-nutrition").val().toLowerCase(),r=$("#filter-state").val().toLowerCase(),s=$("#filter-name").val().toLowerCase(),l=[];$(".intro__animal").each((function(){const t=$(this),a=t.data("specie")||"",i=t.data("habitat")||"",f=t.data("nutrition")||"",c=t.data("state")||"",p=t.data("name")||"";let u=!0;if(e){const t=a.match(/\(([^)]+)\)/);(t?t[1].toLowerCase().trim():"")!==e.toLowerCase()&&(u=!1)}u&&n&&-1===i.toLowerCase().indexOf(n)&&(u=!1),u&&o&&-1===f.indexOf(o)&&(u=!1),u&&r&&c.toLowerCase()!==r.toLowerCase()&&(u=!1),u&&s&&-1===p.indexOf(s)&&(u=!1),u&&l.push(t),t.hide()})),t=1,i(l),a()}()})),$("#filter-per-page").on("change",(function(){t=1,e=parseInt($(this).val())||10;i(n()),a()})),$("#resetFilters").on("click",(function(){$("#filter-specie, #filter-habitat, #filter-nutrition, #filter-state, #filter-name").val(""),$("#filter-per-page").val("10"),t=1,e=10,$(".intro__animal").show();i(n()),window.history.pushState({},"",window.location.pathname)})),function(){const a=function(){const t=new URLSearchParams(window.location.search);return{specie:t.get("specie")||"",habitat:t.get("habitat")||"",nutrition:t.get("nutrition")||"",state:t.get("state")||"",name:t.get("name")||"",perPage:t.get("perPage")||"10",page:t.get("page")||"1"}}();a.specie&&$("#filter-specie").val(a.specie),a.habitat&&$("#filter-habitat").val(a.habitat),a.nutrition&&$("#filter-nutrition").val(a.nutrition),a.state&&$("#filter-state").val(a.state),a.name&&$("#filter-name").val(a.name),a.perPage&&$("#filter-per-page").val(a.perPage),a.page&&(t=parseInt(a.page)||1),a.perPage&&(e=parseInt(a.perPage)||10)}();i(n())}));
//# sourceMappingURL=animals-filter.js.map
